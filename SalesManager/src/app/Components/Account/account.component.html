<div class="accountContainer">
  <div
    *ngIf="loading && !accesError"
    class="d-flex flex-column align-items-center"
  >
    <mat-spinner></mat-spinner>
    <div class="mt-3 colorGray">Searching Accounts</div>
  </div>
  <div
    *ngIf="!loading && !accesError"
    class="d-flex flex-column align-items-center"
  >
    <h1>Select an Account</h1>
    <form class="example-form">
      <mat-form-field class="example-full-width width">
        <mat-label>Accounts</mat-label>
        <input
          type="text"
          matInput
          [formControl]="myControl"
          [matAutocomplete]="auto"
        />
        <mat-autocomplete #auto="matAutocomplete" [displayWith]="displayFn">
          <mat-option
            *ngFor="let account of filteredAccounts | async"
            [value]="account"
          >
            {{ account.name }}
          </mat-option>
        </mat-autocomplete>
      </mat-form-field>
    </form>
    <button
      type="button"
      class="btn btn-dark btn-lg"
      (click)="selectAccountToProcess()"
      [disabled]="myControl.value?.id == null"
    >
      Create Order
    </button>
  </div>
  <div *ngIf="accesError">
    <div class="row">
      <div class="col-12 col-lg-4"></div>
      <div class="col-12 col-lg-4">
        <div class="alert alert-danger" role="alert">
          <h4 class="alert-heading"><strong>ERROR !</strong></h4>
          <p>{{ errorMessage | uppercase }}</p>
          <hr />
          <p class="mb-0">
            Please try again. If the problem persist contact with your provider.
          </p>
        </div>
      </div>

      <div class="col-12 col-lg-4"></div>
    </div>
  </div>
</div>
